<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="renderer" content="webkit">
    <link rel="stylesheet" href="../assets/css/base.inc.css">
    <link rel="stylesheet" href="../assets/css/style.css">
    <script src="../assets/js/jquery.min.js" type="text/javascript" charset="utf-8"></script>
    <title>市场管理</title>
    <style>
        .tabCls{
            border-bottom: 1px solid #e5e5e5;
        }
        .tabCls .btn{
            height: 38px;
            
            background-color: #e5e5e5;
            color:#000;
            width: 106px;
            text-align: center;
            font-size: 12px;
            color: #000;
            -webkit-border-radius: 5px 5px 0 0;
            -moz-border-radius: 5px 5px 0 0;
            border-radius: 5px 5px 0 0;
            cursor: pointer;
            margin-right: 15px;
        }
        .tabCls .btn.active{
            background-color: #54ba9a;
            color:#fff;            
        }
        .icon-setting1{
            margin-right: 5px;
            width: 20px;
            height: 20px;
            background: url(../assets/images/icon-area.png) center center no-repeat;
            vertical-align: middle;
        }
        .icon-setting1-act{
            background: url(../assets/images/icon-area-act.png) center center no-repeat;
        }
        .icon-setting2{
            margin-right: 5px;
            width: 20px;
            height: 20px;
            background: url(../assets/images/icon-article.png) center center no-repeat;
            vertical-align: middle;
        }
        .icon-setting2-act{
            background: url(../assets/images/icon-article-act.png) center center no-repeat;
        }
        .icon-setting3{
            margin-right: 5px;
            width: 20px;
            height: 20px;
            background: url(../assets/images/icon-pay.png) center center no-repeat;
            vertical-align: middle;
        }
        .icon-setting3-act{
            background: url(../assets/images/icon-pay-act.png) center center no-repeat;
        }
        .addCls .btn-search{
            margin-bottom: 12px;
        }
        .shop-form .addCls{
            display: none;
        }
        .shop-form .activeBlock{
            display: block;
        }
        .btnList{
            height: 50px;
        }
        .lists>dt,.lists>dd{
            line-height: 40px;
            font-size: 15px;

        }
        .lists>dd{
            padding:0 40px 0 100px;
        }
        .lists>dt{
            background-color: #F5FCFB;
            padding:0 40px;
            color:#000;
        }
        .lists>dd:nth-child(even),.lists>dd:nth-child(even) input{
            background-color: #fff;
        }
        .lists>dd:nth-child(odd),.lists>dd:nth-child(odd) input{
            background-color: #FAFAFA;
        }
        .marL{
            margin-left: 20px;
        }
        .lists button{
            line-height: 40px;
            cursor: pointer;
        }
        .lists .icon-adds {
            margin-right: 5px;
            width: 14px;
            height: 14px;
            background: url(../assets/images/icon-adds.png) no-repeat;
            vertical-align: middle;
        }
        .lists .icon-edits {
            margin-right: 5px;
            width: 14px;
            height: 14px;
            background: url(../assets/images/icon-small-edit.png) no-repeat;
            vertical-align: middle;
        }
        .lists .icon-edis_s{
            margin-right: 5px;
            width: 14px;
            height: 14px;
            background: url(../assets/images/icon-edit_s.png) no-repeat;
            vertical-align: middle;
        }
        .area1{
            width: 330px;
        }
        .addList{
            border:1px solid #01bd98;
            display: none;
        }
        .addList li{
            line-height: 40px;
            background-color: #F5FCFB;
            font-size: 15px;
        }
        .addList input{
            background-color: #F5FCFB;
        }
        .addList .nameCls{
            padding:0 40px;
            color:#000;
        }
        .addList a,.newAdd a{
            margin: 0 10px;
        }
        .lists .txt{
            width: 260px;
            display: none;
        }
        .newAdd{
            font-size: 15px;
            color:#000;
            border:1px solid #01bd98;
        }
        .affEdit,.affEditAll{
            display: none;
        }
        .affEditAll{
            margin: 0 0 0 15px;
        }


    </style>
</head>

<body >


    <!--main-->
    <div class="wrap">

        <!--右侧-->
        <div class="main">

            <div class="i-con shop-box">
                <h3 class="shop-header clr">
                    <p class="shop-header-h fll">市场管理</p>
                </h3>
                <div class="shop-form tab-content">
                    <div class="tabCls">
                        <button class="btn active">
                            <i class="icon icon-setting1 icon-setting1-act"></i>
                            <span class="btn-txt">区域设置</span>
                        </button>
                        <button class="btn">
                            <i class="icon icon-setting2"></i>
                            <span class="btn-txt">商品设置</span>
                        </button>
                        <button class="btn">
                            <i class="icon icon-setting3"></i>
                            <span class="btn-txt">缴费设置</span>
                        </button>
                    </div>
                    <div class="addCls tab1 activeBlock">

                        <p class="btnList">
                            <button class="btn-search add flr" id="addArea">
                                <i class="icon icon-add"></i>
                                <span class="btn-txt">添加区域</span>
                            </button>
                        </p>
                        <div>
                            <ul class="addList">
                                
                            </ul>
                            <dl class="lists">
                               <dt><span>蔬菜区</span>
                                    <a href="javascript:void(0)" class="flr t-green affEditAll">确认</a>
                                    <button class="flr marL editAll">
                                        <i class="icon icon-edits"></i>
                                    </button>
                                    <button class="flr addBtn">
                                        <i class="icon icon-adds"></i>
                                    </button>
                                    
                                </dt>
                                <dd>
                                    <span>蔬菜区1</span>
                                    <input type="text" value="蔬菜区1" class="inp txt">
                                    <button class="flr marL editCls">
                                        <i class="icon icon-edis_s"></i>
                                    </button>
                                    <a href="javascript:void(0)" class="flr t-green affEdit">确认</a>
                                </dd>
                                <dd>
                                    <span>蔬菜区2</span>
                                    <input type="text" value="蔬菜区2" class="inp txt">
                                    <button class="flr marL editCls">
                                        <i class="icon icon-edis_s"></i>
                                    </button>
                                    <a href="javascript:void(0)" class="flr t-green affEdit">确认</a>
                                </dd>
                               <dd>
                                    <span>蔬菜区3</span>
                                    <input type="text" value="蔬菜区3" class="inp txt">
                                    <button class="flr marL editCls">
                                        <i class="icon icon-edis_s"></i>
                                    </button>
                                    <a href="javascript:void(0)" class="flr t-green affEdit">确认</a>
                                </dd>
                            </dl>
                            <dl class="lists">
                               <dt><span>水产区</span>
                                    <a href="javascript:void(0)" class="flr t-green affEditAll">确认</a>
                                    <button class="flr marL editAll">
                                        <i class="icon icon-edits"></i>
                                    </button>
                                    <button class="flr addBtn">
                                        <i class="icon icon-adds"></i>
                                    </button>

                                </dt>
                                <dd>
                                    <span>水产区1</span>
                                    <input type="text" value="水产区1" class="inp txt">
                                    <button class="flr marL editCls">
                                        <i class="icon icon-edis_s"></i>
                                    </button>
                                    <a href="javascript:void(0)" class="flr t-green affEdit">确认</a>
                                </dd>
                                <dd>
                                    <span>水产区2</span>
                                    <input type="text" value="水产区2" class="inp txt">
                                    <button class="flr marL editCls">
                                        <i class="icon icon-edis_s"></i>
                                    </button>
                                    <a href="javascript:void(0)" class="flr t-green affEdit">确认</a>
                                </dd>
                               <dd>
                                    <span>水产区3</span>
                                    <input type="text" value="水产区3" class="inp txt">
                                    <button class="flr marL editCls">
                                        <i class="icon icon-edis_s"></i>
                                    </button>
                                    <a href="javascript:void(0)" class="flr t-green affEdit">确认</a>
                                </dd>
                            </dl>
                            <dl class="lists">
                               <dt><span>水果区</span>
                                    <a href="javascript:void(0)" class="flr t-green affEditAll">确认</a>
                                    <button class="flr marL editAll">
                                        <i class="icon icon-edits"></i>
                                    </button>
                                    <button class="flr addBtn">
                                        <i class="icon icon-adds"></i>
                                    </button>
                                </dt>
                                <dd>
                                    <span>水果区1</span>
                                    <input type="text" value="水果区1" class="inp txt">
                                    <button class="flr marL editCls">
                                        <i class="icon icon-edis_s"></i>
                                    </button>
                                    <a href="javascript:void(0)" class="flr t-green affEdit">确认</a>
                                </dd>
                                <dd>
                                    <span>水果区2</span>
                                    <input type="text" value="水果区2" class="inp txt">
                                    <button class="flr marL editCls">
                                        <i class="icon icon-edis_s"></i>
                                    </button>
                                    <a href="javascript:void(0)" class="flr t-green affEdit">确认</a>
                                </dd>
                               <dd>
                                    <span>水果区3</span>
                                    <input type="text" value="水果区3" class="inp txt">
                                    <button class="flr marL editCls">
                                        <i class="icon icon-edis_s"></i>
                                    </button>
                                    <a href="javascript:void(0)" class="flr t-green affEdit">确认</a>
                                </dd>
                                <dd>
                                    <span>水果区3</span>
                                    <input type="text" value="水果区3" class="inp txt">
                                    <button class="flr marL editCls">
                                        <i class="icon icon-edis_s"></i>
                                    </button>
                                    <a href="javascript:void(0)" class="flr t-green affEdit">确认</a>
                                </dd>
                            </dl>
                        </div>
                    </div>
                    <div class="addCls tab2">22222222222222222</div>
                    <div class="addCls tab3">333333333333333</div>
                </div>
            </div>
        </div>
        <!--/.右侧-->
    </div>
    <!--/.main-->
</body>
<script>
//tab 切换
    $(".tabCls>.btn").on("click",function(){
        var self=$(this);
        var index=self.index()+1;
        self.addClass("active").siblings("button").removeClass("active");
        self.children(".icon").addClass("icon-setting"+index+"-act");

        if(index==1){
            removeCls(".icon-setting2","icon-setting2-act");
            removeCls(".icon-setting3","icon-setting3-act");
            $(".tab1").addClass("activeBlock").siblings(".addCls").removeClass("activeBlock");
        }else if(index==2){
            removeCls(".icon-setting1","icon-setting1-act");
            removeCls(".icon-setting3","icon-setting3-act");
            $(".tab2").addClass("activeBlock").siblings(".addCls").removeClass("activeBlock");
        }else if(index==3){
            removeCls(".icon-setting2","icon-setting2-act");
            removeCls(".icon-setting1","icon-setting1-act");
            $(".tab3").addClass("activeBlock").siblings(".addCls").removeClass("activeBlock");
        }
    })
    function removeCls(el,cls){
        $(el).removeClass(cls);
    }
    //  添加一级区域
    $("#addArea").on("click",function(){
        var cont='<li><span class="nameCls">区域名称</span><input type="text" placeholder="请输入要添加的一级区域名称" name="" class="inp area1"><a href="javascript:void(0)" class="flr t-green affAdd">确认添加</a><a href="javascript:void(0)" class="flr t-red canAdd">取消添加</a><a href="javascript:void(0)" class="flr t-blue goAdd">继续添加</a></li>';
        $(".addList").html(cont);
        $(".addList").css({"display":"block"});
    });
    //  一级区域 取消
    $(document).on("click",'.canAdd',function(){
        $(this).parents("li").remove();
        if($(".addList").children("li").length==0){
            $(".addList").css({"display":"none"});
        }
        
    });    
     //  一级区域 继续
    $(document).on("click",'.goAdd',function(){
        $(this).css({"display":"none"});
        var cont='<li ><span class="nameCls">区域名称</span><input type="text" placeholder="请输入要添加的一级区域名称" name="" class="inp area1"><a href="javascript:void(0)" class="flr t-green affAdd">确认添加</a><a href="javascript:void(0)" class="flr t-red canAdd">取消添加</a><a href="javascript:void(0)" class="flr t-blue goAdd">继续添加</a></li>';
        $(".addList").append(cont);
    }); 
    //单行编辑
    $(document).on("click",'.editCls',function(){
        var self=$(this);
        self.css("display","none");
        self.siblings('span').css("display","none");
        self.siblings('.txt,.affEdit').css("display","inline-block");
    });  
        //单行编辑 确认
    $(document).on("click",'.affEdit',function(){
        var self=$(this);
        self.css("display","none");
        self.siblings('.txt').css("display","none");
        self.siblings('span,.editCls').css("display","inline-block");
    });  
    //编辑全部
    $(document).on("click",'.editAll',function(){
        var self=$(this);
        self.css("display","none");
        self.siblings(".affEditAll").css("display","inline-block");
        self.parents("dt").siblings('dd').children('span').css("display","none");
        self.parents("dt").siblings('dd').children('.txt').css("display","inline-block");
    });  
    // 编辑完成保存
    $(document).on("click",'.affEditAll',function(){
        var self=$(this);
        self.css("display","none");
        self.siblings(".editAll").css("display","inline-block");
        self.parents("dt").siblings('dd').children('span').css("display","inline-block");
        self.parents("dt").siblings('dd').children('.txt').css("display","none");
    });  
    //二级添加
    $(document).on("click",'.addBtn',function(){
        var self=$(this);
        self.attr("disabled",true);
         var cont='<dd class="newAdd"><span class="nameCls">二级区域名称</span><input type="text" placeholder="请输入要添加的二级区域名称" name="" class="inp area1"><a href="javascript:void(0)" class="flr t-green affAdds">确认添加</a><a href="javascript:void(0)" class="flr t-red canAdds">取消添加</a><a href="javascript:void(0)" class="flr t-blue goAdds">继续添加</a></dd>';
        self.parents(".lists").append(cont);
    
    });  
    //二级取消
     $(document).on("click",'.canAdds',function(){
        $(this).parents("dd").remove();
        $(".addBtn").attr("disabled",false);
    });    
     //二级继续
    $(document).on("click",'.goAdds',function(){
        $(this).css({"display":"none"});
         var cont='<dd class="newAdd"><span class="nameCls">二级区域名称</span><input type="text" placeholder="请输入要添加的二级区域名称" name="" class="inp area1"><a href="javascript:void(0)" class="flr t-green affAdds">确认添加</a><a href="javascript:void(0)" class="flr t-red canAdds">取消添加</a><a href="javascript:void(0)" class="flr t-blue goAdds">继续添加</a></dd>';
        $(this).parents(".lists").append(cont);

    }); 



</script>
</html>