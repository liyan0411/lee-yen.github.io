webpackJsonp([7],{BBJB:function(t,e,a){"use strict";(function(t){var s=a("cXnC"),n=a("Tftl");e.a={filters:{vin:function(t){return t.vin},carmodel:function(t){return t.cateName+""+t.modelName},setout:function(t){return t.orderSrcPName+""+t.orderSrcCName+t.orderSrcWhName},Destination:function(t){return t.orderDestPName+""+t.orderDestCName+t.orderDestWhName}},components:{Table:s.a,SolidButton:n.a},data:function(){return{vin:null,currentPage1:1,pageNum:"1",pageRows:"10",name:"",rows:[],num:0,lnglatXY:[],textarea:"",custType:"",loading:!0}},methods:{loadData:function(){var t=this,e=this,a={pageNum:this.pageNum,pageRows:this.pageRows,vins:this.vin,operateCode:"103",operateName:"test"};e.$api.post("crm/crmOrder/getOrderListByVin",a,function(t){e.rows=t.repData.list,e.num=t.repData.total,e.loading=!1},function(a){e.loading=!1,t.$message({message:a.repData.repMsg,type:"error"})})},details:function(t){this.$router.push({path:"/OrderDetails",query:{vin:t.vin}})},handleSizeChange:function(t){this.pageRows=t,this.loadData()},handleCurrentChange:function(t){this.pageNum=t,this.loadData()},getSplitString:function(e){for(var a=e.split(","),s="",n=0;n<a.length;n++)for(var r=a[n].split(/\s+/),i=0;i<r.length;i++)""!=t.trim(r[i])&&(s+=t.trim(r[i])+",");return s},query:function(){if(""==this.textarea)this.vin=null;else{this.vin=[],this.vin=this.getSplitString(this.textarea).split(",");for(var t=/^[0-9a-zA-Z]+$/,e=0;e<this.vin.length;e++)for(var a=0;a<this.vin[e].length;a++)if(!t.test(this.vin[e][a]))return this.$message({message:"只能输入数字或字符",type:"warning"}),!1}this.loadData()},reset:function(){this.vin=null,this.textarea="",this.loadData()}},created:function(){this.loadData(),this.custType=this.$api.sGetObject("_user")}}}).call(e,a("7t+N"))},EOPk:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("BBJB"),n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"d-box v-box"},[a("div",{staticClass:"headDiv",staticStyle:{padding:"20px"}},[a("div",{staticClass:"headerLeft"},[a("span",{staticClass:"system"},[t._v("VIN")]),t._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.textarea,expression:"textarea"}],staticClass:"input",attrs:{placeholder:'多个VIN请以英文" , "分割'},domProps:{value:t.textarea},on:{input:function(e){e.target.composing||(t.textarea=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"headerRight"},[a("SolidButton",{attrs:{type:"solid",text:"查询"},on:{click:t.query}}),t._v(" "),a("SolidButton",{attrs:{type:"hollow",text:"重置"},on:{click:t.reset}})],1)]),t._v(" "),a("div",{staticClass:"flexTable"},[a("div",{staticClass:"d-box v-box"},[a("div",{staticClass:"flexTable spaceTable"},[a("div",{staticClass:"tableDiv"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{stripe:"",data:t.rows,"tooltip-effect":"dark",height:"100%"}},[a("el-table-column",{attrs:{label:"VIN"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("a",{attrs:{id:"vin"},on:{click:function(a){t.details(e.row)}}},[t._v(t._s(t._f("vin")(e.row)))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"车型大类"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t._f("carmodel")(e.row)))]),a("br")]}}])}),t._v(" "),2==t.custType.custType||1==t.custType.custType?a("el-table-column",{attrs:{prop:"orderSrcWhName",label:"所属主机厂"}}):t._e(),t._v(" "),3==t.custType.custType||1==t.custType.custType?a("el-table-column",{attrs:{prop:"customerName",label:"所属经销商"}}):t._e(),t._v(" "),a("el-table-column",{attrs:{label:"出发地"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t._f("setout")(e.row)))]),a("br")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"目的地"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t._f("Destination")(e.row)))]),a("br")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"currentLocation",label:"当前位置"}})],1)],1)]),t._v(" "),a("div",{staticClass:"footerDiv"},[a("el-pagination",{staticStyle:{"text-align":"center",padding:"6px 0px"},attrs:{"current-page":t.currentPage1,"page-sizes":[10,20,30,40],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:t.num},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)])])])},staticRenderFns:[]};var r=function(t){a("w6Od")},i=a("VU/8")(s.a,n,!1,r,"data-v-44729b66",null);e.default=i.exports},w6Od:function(t,e){}});
//# sourceMappingURL=7.3ce289c36523699b820e.js.map