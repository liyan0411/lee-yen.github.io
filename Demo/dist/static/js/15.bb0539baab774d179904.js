webpackJsonp([15],{RvQO:function(e,t){},Wrtx:function(t,o,i){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var s=i("hOPP"),a=i("Tftl"),l={components:{Button:s.a,SolidButton:a.a},data:function(){return{title:"设置",id:"",name:"",rows:[],pageNum:"1",pageRows:"10",brandName:[],form:{target:"",dealerCodes:""},list:"",plus:!1,formLabelWidth:"10%",options4:[],loading:!1,regionCodes:"",add:{text:"设置",type:"icon-setting"}}},methods:{handleSelectionChange:function(e){this.list=e},toggleSelection:function(e){var t=this,o=[];o.push(e),o?o.forEach(function(e){t.$refs.multipleTable.toggleRowSelection(e)}):this.$refs.multipleTable.clearSelection()},loadData:function(){var e=this,t=this;t.$api.post("/crm/association/queryList",{},function(e){t.rows=e.repData},function(t){e.$message({message:t.repData.repMsg,type:"error"})})},remoteMethod:function(t){var o=this,i=this;""!==t?(this.loading=!0,setTimeout(function(){i.$api.post("/crm/region/doProvinceBylike",{regionName:t,pageNum:1,pageRows:10},function(e){e.repData.length>0?i.options4=e.repData:o.options4=[],o.loading=!1},function(t){o.$message({message:e.repData.repMsg,type:"error"})})},200)):this.options4=[]},choise:function(){console.log(this.form.dealerCodes)},setUp:function(){if(""!=this.list)if(this.list.length>1)this.$message({message:"只能选择一条",type:"warning"});else{this.plus=!0;var e=[];this.name=this.list[0].name,this.id=this.list[0].id;for(var t=0;t<this.list[0].areaComRegionList.length;t++)e.push(this.list[0].areaComRegionList[t].regionCode),this.options4.push({regionName:this.list[0].areaComRegionList[t].province,regionCode:this.list[0].areaComRegionList[t].regionCode});this.form.dealerCodes=e,this.regionCodes=e,console.log(this.regionCodes)}else this.$message({message:"请选择要编辑的数据",type:"warning"})},confirm:function(){var e=this;this.$api.post("/crm/association/insertOrUpdate",{id:this.id,regionCodes:this.form.dealerCodes},function(t){e.$message({message:"编辑成功",type:"success"}),e.plus=!1,e.loadData()},function(t){e.$message({message:t.repData.repMsg,type:"error"})})}},created:function(){this.loadData()}},n={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"d-box v-box"},[o("div",{staticClass:"headDiv"},[o("div",{staticClass:"headButton"},[o("Button",{attrs:{type:e.add.type,icon:e.add.icon,text:e.add.text},on:{click:e.setUp}})],1)]),e._v(" "),o("div",{staticClass:"flexTable"},[o("div",{staticClass:"d-box v-box"},[o("div",{staticClass:"flexTable spaceTable"},[o("div",{staticClass:"tableDiv"},[o("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{stripe:"",data:e.rows,"tooltip-effect":"dark",height:"100%"},on:{"selection-change":e.handleSelectionChange,"row-click":e.toggleSelection}},[o("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),o("el-table-column",{attrs:{prop:"name",label:"分区"}}),e._v(" "),o("el-table-column",{attrs:{label:"省份","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._l(t.row.areaComRegionList,function(t){return o("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.province)+"  ")])}),o("br")]}}])})],1)],1)]),e._v(" "),o("div",{staticClass:"footerDiv"})]),e._v(" "),o("el-dialog",{attrs:{title:e.title,visible:e.plus,width:"40%",center:""},on:{"update:visible":function(t){e.plus=t}}},[o("el-form",{attrs:{model:e.form}},[o("el-form-item",{attrs:{label:"路径","label-width":e.formLabelWidth}},[o("span",{domProps:{textContent:e._s(e.name)}})]),e._v(" "),o("el-form-item",{attrs:{label:"省份","label-width":e.formLabelWidth}},[o("el-select",{attrs:{multiple:"",filterable:"",remote:"",placeholder:"请输入省份","remote-method":e.remoteMethod,loading:e.loading,clearable:""},on:{change:e.choise},model:{value:e.form.dealerCodes,callback:function(t){e.$set(e.form,"dealerCodes",t)},expression:"form.dealerCodes"}},e._l(e.options4,function(e){return o("el-option",{key:e.regionCode,attrs:{label:e.regionName,value:e.regionCode}})}))],1)],1),e._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("SolidButton",{attrs:{type:"hollow",text:"取消"},on:{click:function(t){e.plus=!1}}}),e._v(" "),o("SolidButton",{attrs:{type:"solid",text:"确认"},on:{click:e.confirm}})],1)],1)],1)])},staticRenderFns:[]};var r=i("VU/8")(l,n,!1,function(e){i("RvQO")},"data-v-4de2972b",null);o.default=r.exports}});
//# sourceMappingURL=15.bb0539baab774d179904.js.map