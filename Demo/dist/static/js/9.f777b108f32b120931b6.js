webpackJsonp([9],{P2SV:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={components:{SolidButton:a("Tftl").a},data:function(){return{timeValue:"",loading:!0,rows:[],multipleSelection:[],currentPage:1,pageRows:10,pageTotal:0,isHidden:!0,centerDialogVisible:!1,windowData:"",feedback:"",pop:{isHidden:"none",isDisabled:!0}}},filters:{typeMethod:function(e){return 0==e?"投诉":1==e?"建议":"其他"},ishandleMethod:function(e){return 0==e?"待处理":"处理完成"}},methods:{loadData:function(){var e=this,t={pageNum:e.currentPage,pageRows:e.pageRows,startTime:e.timeValue[0],endTime:e.timeValue[1]};e.$api.post("/crm/comment/queryList",t,function(t){e.loading=!1,e.rows=t.repData.list,e.pageTotal=t.repData.total},function(t){e.loading=!1})},queryClick:function(){this.timeValue||(this.timeValue=""),this.loadData()},resetClick:function(){this.timeValue="",this.loadData()},dateClick:function(e){console.log(e),0==e.ishandle?(this.pop.isHidden="block",this.pop.isDisabled=!1):(console.log("已处理"),this.pop.isHidden="none",this.pop.isDisabled=!0),this.windowData=e,e.Time2=e.createTime.substring(0,10),this.feedback=e.reply,this.centerDialogVisible=!0},toggleSelection:function(e){},handleSelectionChange:function(e){this.multipleSelection=e,console.log(e)},clickConfirm:function(){var e=this,t=this;console.log(t.windowData.id);var a={reply:t.feedback,id:t.windowData.id,ishandle:1};t.$api.post("/crm/comment/insertOrUpdate",a,function(a){console.log(a),t.rows=a.repData.list,t.centerDialogVisible=!1,e.$message({message:"处理成功",type:"success"}),t.loadData()},function(e){t.$message.error("fe"),console.log(e)})},handleSizeChange:function(e){console.log("每页"+e),this.pageRows=e,this.loadData()},handleCurrentChange:function(e){console.log("当前页"+e),this.currentPage=e,this.loadData()}},created:function(){this.loadData()}},s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"d-box v-box"},[a("div",{staticClass:"headDiv"},[a("div",{staticClass:"headerLeft"},[a("span",{staticClass:"spanclass"},[e._v("创建时间")]),e._v(" "),a("el-date-picker",{staticClass:"timeclass",attrs:{type:"daterange","start-placeholder":"开始日期","end-placeholder":"结束日期","default-time":["00:00:00","23:59:59"],"value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:e.timeValue,callback:function(t){e.timeValue=t},expression:"timeValue"}})],1),e._v(" "),a("div",{staticClass:"clearfix"},[a("div",{staticClass:"headRight"},[a("SolidButton",{attrs:{type:"solid",text:"查询"},on:{click:e.queryClick}}),e._v(" "),a("SolidButton",{attrs:{type:"hollow",text:"重置"},on:{click:e.resetClick}})],1)])]),e._v(" "),a("div",{staticClass:"flexTable"},[a("div",{staticClass:"d-box v-box"},[a("div",{staticClass:"flexTable spaceTable"},[a("div",{staticClass:"tableDiv"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{stripe:"",data:e.rows,"tooltip-effect":"dark",height:"100%"},on:{"selection-change":e.handleSelectionChange,"row-click":e.toggleSelection}},[a("el-table-column",{attrs:{label:"标题",prop:"title",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticClass:"clickStyle",attrs:{type:"text",size:"medium"},on:{click:function(a){e.dateClick(t.row)}}},[e._v(e._s(t.row.title?t.row.title:"无")+"\n\t\t\t\t\t\t\t\t")])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"dealerName",label:"所属主体",width:"250",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"类型",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e._f("typeMethod")(t.row.type)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"提交时间",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.createTime.slice(0,10)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"处理状态",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{class:0==t.row.ishandle?"undeal-stateDiv":"deal-stateDiv"},[a("span",{staticClass:"dealState"},[e._v(e._s(e._f("ishandleMethod")(t.row.ishandle)))])])]}}])})],1)],1)]),e._v(" "),a("div",{staticClass:"footerDiv"},[a("el-pagination",{staticStyle:{"text-align":"center",padding:"6px 0px"},attrs:{"current-page":e.currentPage,"page-size":e.pageRows,layout:"total,sizes, prev,pager, next,jumper",total:e.pageTotal},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.currentPage=t}}})],1)])]),e._v(" "),a("el-dialog",{attrs:{title:"详情",visible:e.centerDialogVisible,width:"600px",center:""},on:{"update:visible":function(t){e.centerDialogVisible=t}}},[a("el-form",{staticClass:"clearfix",attrs:{model:e.windowData}},[a("div",{staticClass:"detailMaim"},[a("div",{staticClass:"detailMessage"},[a("div",{staticClass:"detailLongRow"},[a("span",[e._v("标题:")]),e._v(" "),a("span",[e._v(e._s(e.windowData.title?e.windowData.title:"无"))])])]),e._v(" "),a("div",{staticClass:"detailMessage"},[a("div",{staticClass:"detailLongRow"},[a("span",[e._v("所属主体:")]),e._v(" "),a("span",[e._v(e._s(e.windowData.dealerName))])])]),e._v(" "),a("div",{staticClass:"detailMessage"},[a("div",{staticClass:"detailRow"},[a("span",[e._v("提交人:")]),e._v(" "),a("span",[e._v(e._s(e.windowData.custName))])]),e._v(" "),a("div",{staticClass:"detailRow"},[a("span",[e._v(e._s(e.windowData.phone?"电话":"邮箱"))]),e._v(" "),a("span",[e._v(e._s(e.windowData.phone?e.windowData.phone:e.windowData.email))])])]),e._v(" "),a("div",{staticClass:"detailMessage"},[a("div",{staticClass:"detailRow"},[a("span",[e._v("类型:")]),e._v(" "),a("span",[e._v(e._s(e._f("typeMethod")(e.windowData.type)))])]),e._v(" "),a("div",{staticClass:"detailRow"},[a("span",[e._v("提交时间:")]),e._v(" "),a("span",[e._v(e._s(e.windowData.Time2))])])]),e._v(" "),a("div",{staticClass:"detailRows detailMessage"},[a("span",[e._v("车辆VIN:")]),e._v(" "),a("el-input",{staticClass:"m_textarea",attrs:{readonly:!0,type:"textarea",resize:"none",readonly:"readonly",autosize:{minRows:1,maxRows:3}},model:{value:e.windowData.vin,callback:function(t){e.$set(e.windowData,"vin",t)},expression:"windowData.vin"}})],1),e._v(" "),a("div",{staticClass:"detailRows detailMessage"},[a("span",[e._v("内容:")]),e._v(" "),a("el-input",{staticClass:"m_textarea",attrs:{readonly:!0,type:"textarea",resize:"none",readonly:"readonly",autosize:{minRows:1,maxRows:3}},model:{value:e.windowData.contents,callback:function(t){e.$set(e.windowData,"contents",t)},expression:"windowData.contents"}})],1),e._v(" "),a("div",{staticClass:"detailRows detailMessage"},[a("span",[e._v("反馈信息:")]),e._v(" "),a("el-input",{staticClass:"m_textarea",attrs:{readonly:e.pop.isDisabled,type:"textarea",resize:"none",autosize:{minRows:1,maxRows:2},placeholder:"请输入反馈信息"},model:{value:e.feedback,callback:function(t){e.feedback=t},expression:"feedback"}})],1)])]),e._v(" "),a("div",{staticClass:"dialog-footer",style:{display:e.pop.isHidden},attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"submitStyle",attrs:{type:"primary"},on:{click:e.clickConfirm}},[e._v("提 交")]),e._v(" "),a("el-button",{staticClass:"cancelStyle",on:{click:function(t){e.centerDialogVisible=!1}}},[e._v("取 消")])],1)],1)],1)},staticRenderFns:[]};var l=a("VU/8")(i,s,!1,function(e){a("z5U2")},"data-v-8e564d90",null);t.default=l.exports},z5U2:function(e,t){}});
//# sourceMappingURL=9.f777b108f32b120931b6.js.map