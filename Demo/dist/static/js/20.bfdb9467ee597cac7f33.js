webpackJsonp([20],{L8fz:function(e,t){},qYRp:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("hOPP"),i=a("cXnC"),s={components:{Button:n.a,Table:i.a},data:function(){return{currentPage1:1,rows:[],list:[],ids:"",data:"",num:0,pageNum:"1",pageRows:"10",form:{description:"",parentId:""},flag:!1,formLabelWidth:"25%",description:[],menu:[],add:{text:"新增",type:"icon-add"},out:{text:"删除",type:"icon-delete"},edit:{text:"编辑",type:"icon-edit"},tableName:[{value:"name",name:"角色名称"},{value:"description",name:"角色描述"},{value:"status",name:"状态"},{value:"userNum",name:"当前分配人"},{value:"createrName",name:"创建人"},{value:"crtTime",name:"创建时间"}]}},methods:{handleSelectionChange:function(e){this.data=e},toggleSelection:function(e){var t=this,a=[];a.push(e),a?a.forEach(function(e){t.$refs.multipleTable.toggleRowSelection(e)}):this.$refs.multipleTable.clearSelection()},loadData:function(){var e=this,t=this,a={type:"1",pageNum:this.pageNum,pageRows:this.pageRows};t.$api.post("role/doRoleList",a,function(e){t.rows=e.repData.list,t.num=e.repData.total},function(t){e.$message({message:t.repData.repMsg,type:"error"})})},addClick:function(){this.$router.push({path:"/newRole",query:{}})},editClick:function(){this.data.length>1||0==this.data.length?this.$message({message:"请勾选单条数据",type:"warning"}):this.$router.push({path:"/newRole?id="+this.data[0].id})},deleteClick:function(){var e=this,t=this;if(t.ids="",t.data.length>1||0==t.data.length)this.$message({message:"请勾选单条数据",type:"warning"});else{for(var a=0;a<t.data.length;a++){if(1==t.data[a].id)return void this.$message({message:"超级管理员不可删除",type:"warning"});t.ids+=t.data[a].id+","}var n={ids:t.ids.substring(0,t.ids.length-1)};this.$confirm("请确认删除的角色, 是否继续?","提示",{cancelButtonText:"取消",confirmButtonText:"确定",type:"warning",center:!0}).then(function(){t.$api.post("role/deleteroles",n,function(a){e.$message({message:"删除成功",type:"success"}),setTimeout(function(){t.loadData()},1e3)},function(e){console.log(e)})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})}},handleSizeChange:function(e){this.pageRows=e,this.loadData()},handleCurrentChange:function(e){this.pageNum=e,this.loadData()}},created:function(){this.loadData()}},o={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"d-box v-box"},[a("div",{staticClass:"headDiv"},[a("div",{staticStyle:{padding:"20px",height:"auto",float:"left"}},[a("Button",{attrs:{type:e.add.type,icon:e.add.icon,text:e.add.text},on:{click:e.addClick}}),e._v(" "),a("Button",{attrs:{type:e.out.type,icon:e.out.icon,text:e.out.text},on:{click:e.deleteClick}}),e._v(" "),a("Button",{attrs:{type:e.edit.type,icon:e.edit.icon,text:e.edit.text},on:{click:e.editClick}})],1)]),e._v(" "),a("div",{staticClass:"flexTable"},[a("Table",{attrs:{data:e.rows,tableName:e.tableName,currentPage1:e.currentPage1,num:e.num},on:{"selection-change":e.handleSelectionChange,"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)])},staticRenderFns:[]};var c=a("VU/8")(s,o,!1,function(e){a("L8fz")},"data-v-3341b9f5",null);t.default=c.exports}});
//# sourceMappingURL=20.bfdb9467ee597cac7f33.js.map