{"version":3,"sources":["webpack:///src/view/list/PermissionMange/UserPermissAssign.vue","webpack:///./src/view/list/PermissionMange/UserPermissAssign.vue?f510","webpack:///./src/view/list/PermissionMange/UserPermissAssign.vue"],"names":["UserPermissAssign","components","SolidButton","data","userData","roleList","checkList","getId","roleIds","methods","closeClick","this","$router","push","path","query","getRoleData","self","p","id","$api","post","r","i","console","log","repData","role","status","name","e","submitClick","_this","$confirm","confirmButtonText","cancelButtonText","type","center","then","updateRoleData","$message","message","catch","_this2","j","userId","substring","length","created","sGetObject","PermissionMange_UserPermissAssign","render","_vm","_h","$createElement","_c","_self","staticStyle","width","min-width","height","background","staticClass","attrs","icon","on","click","_v","_s","realName","userName","orgName","float","margin-top","model","value","callback","$$v","expression","_l","item","key","margin-left","label","text","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/19.db9cee8dbe11695d4c37.js","sourcesContent":["<template>\n\t<!--用户权限分配界面-->\n\t<!--整体外框：-->\n\t<div style=\"width: 100%;min-width:900px;height: 400px; background: #fff;\">\n\t\t<div class=\"headDiv\">\n\t\t\t<el-button class=\"headbutton\" type=\"text\" icon=\"el-icon-error\" @click=\"closeClick\">关闭</el-button>\n\t\t\t<label>|</label>\n\t\t</div>\n\t\t<div style=\"width: 100%;height: 1px;background: #EEECEF;\"></div>\n\t\t<div class=\"leftDiv\">\n\t\t\t<p>个人信息</p><br /> \n\t\t\t姓名:<label>{{userData.realName}}</label><br />\n\t\t\t账号:<label>{{userData.userName}}</label><br />\n\t\t    所属组织:<label>{{userData.orgName}}</label>\n\t\t</div>\n\t\t<div style=\"width: 1px;height: 300px;background: #EEECEF;float: left;margin-top: 30px;\"></div>\n\t\t<div class=\"rightDiv\">\n\t\t\t<p>分配角色</p><br />\n\t\t\t<el-checkbox-group style=\"width: 100px;\" v-model=\"checkList\">\n\t\t\t\t<el-checkbox style=\"width: 100px;margin-left: 0;\" v-for=\"item in roleList\" :label=\"item.name\" :key=\"item.id\" :value=\"item.id\">{{item.name}}</el-checkbox>\n\t\t\t</el-checkbox-group>\n\t\t\t<SolidButton style=\"margin-top: 40px;\" :type='\"solid\"' :text='\"提交\"' @click=\"submitClick\"></SolidButton>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\n\timport SolidButton from '../../SelfControls/solidButton/solidButton.vue';\n\texport default {\n\t\tcomponents: {\n\t\t\tSolidButton,\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tuserData:{},\n\t\t\t\troleList: [], //数据的\n\t\t\t\tcheckList: [], //勾选的\n\t\t\t\tgetId: '',//上\n\t\t\t\troleIds: ''\n\t\t\t};\n\t\t},\n\t\tmethods: {\n\t\t\tcloseClick() {\n\t\t\t\tthis.$router.push({\n\t\t\t\t\tpath: \"/UserManage\",\n\t\t\t\t\tquery: {}\n\t\t\t\t})\n\t\t\t},\n\t\t\tgetRoleData() {\n\t\t\t\tvar self = this;\n\t\t\t\tvar p = {\n\t\t\t\t\tid: self.getId\n\t\t\t\t}\n\t\t\t\t//1、接口-列表\n\t\t\t\tself.$api.post('/user/role', p, r => {\n\t\t\t\t\tconsole.log(r);\n\t\t\t\t\tself.roleList = r.repData.role\n\t\t\t\t\tfor(var i in self.roleList) {\n\t\t\t\t\t\tif(self.roleList[i].status) {\n\t\t\t\t\t\t\tself.checkList.push(self.roleList[i].name)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}, e => {\n\t\t\t\t\tconsole.log(e);\n\t\t\t\t})\n\t\t\t},\n\t\t\tsubmitClick() {\n\t\t\t\tthis.$confirm('确定保存吗？', '', {\n\t\t\t\t\tconfirmButtonText: '是',\n\t\t\t\t\tcancelButtonText: '否',\n\t\t\t\t\ttype: 'warning',\n\t\t\t\t\tcenter: true\n\t\t\t\t}).then(() => {\n\t\t\t\t\tthis.updateRoleData();\n\t\t\t\t\tthis.$message({\n\t\t\t\t\t\ttype: 'success',\n\t\t\t\t\t\tmessage: '保存成功!'\n\t\t\t\t\t});\n\t\t\t\t}).catch(() => {\n\t\t\t\t\tthis.$message({\n\t\t\t\t\t\ttype: 'info',\n\t\t\t\t\t\tmessage: '取消保存'\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t},\n\t\t\tupdateRoleData() {\n\t\t\t\tvar self = this;\n\t\t\t\tself.roleIds = ''\n\t\t\t\t//jxs?获取到ids\n\t\t\t\tfor(var i in self.roleList) {\n\t\t\t\t\tfor(var j in self.checkList) {\n\t\t\t\t\t\tif(self.roleList[i].name == self.checkList[j]) {\n\t\t\t\t\t\t\tself.roleIds += self.roleList[i].id + ','\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tconsole.log('ceshi' + self.roleIds)\n\t\t\t\tvar p = {\n\t\t\t\t\tuserId: self.getId,\n\t\t\t\t\trole: self.roleIds.substring(0, self.roleIds.length - 1)\n\t\t\t\t}\n\t\t\t\t//2、接口-更新role\n\t\t\t\tself.$api.post('/user/add/role', p, r => {\n\t\t\t\t\tconsole.log(r);\n\t\t\t\t\tthis.closeClick()\n\t\t\t\t}, e => {\n\t\t\t\t\tconsole.log(e);\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\t\tcreated: function() {\n\t\t\tthis.userData = this.$api.sGetObject('userData')\n\t\t\tthis.getId = this.userData.id\n\t\t\tthis.getRoleData();\n\t\t}\n\t};\n</script>\n\n<style scoped=\"scoped\">\n\t.headDiv {\n\t\twidth: 100%;\n\t\theight: 40px;\n\t}\n\t\n\t.headbutton {\n\t\tpadding-left: 8px;\n\t}\n\t\n\t.leftDiv {\n\t\twidth: 245px;\n\t\theight: 400px;\n\t\tline-height: 2em;\n\t\tfloat: left;\n\t\tpadding: 20px;\n\t}\n\t\n\t.rightDiv {\n\t\twidth: 400px;\n\t\theight: 400px;\n\t\tfloat: left;\n\t\tpadding: 20px;\n\t\tline-height: 2em;\n\t\tmargin-left: 40px;\n\t}\n\t\n</style>\n\n\n// WEBPACK FOOTER //\n// src/view/list/PermissionMange/UserPermissAssign.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"width\":\"100%\",\"min-width\":\"900px\",\"height\":\"400px\",\"background\":\"#fff\"}},[_c('div',{staticClass:\"headDiv\"},[_c('el-button',{staticClass:\"headbutton\",attrs:{\"type\":\"text\",\"icon\":\"el-icon-error\"},on:{\"click\":_vm.closeClick}},[_vm._v(\"关闭\")]),_vm._v(\" \"),_c('label',[_vm._v(\"|\")])],1),_vm._v(\" \"),_c('div',{staticStyle:{\"width\":\"100%\",\"height\":\"1px\",\"background\":\"#EEECEF\"}}),_vm._v(\" \"),_c('div',{staticClass:\"leftDiv\"},[_c('p',[_vm._v(\"个人信息\")]),_c('br'),_vm._v(\" \\n\\t\\t姓名:\"),_c('label',[_vm._v(_vm._s(_vm.userData.realName))]),_c('br'),_vm._v(\"\\n\\t\\t账号:\"),_c('label',[_vm._v(_vm._s(_vm.userData.userName))]),_c('br'),_vm._v(\"\\n\\t    所属组织:\"),_c('label',[_vm._v(_vm._s(_vm.userData.orgName))])]),_vm._v(\" \"),_c('div',{staticStyle:{\"width\":\"1px\",\"height\":\"300px\",\"background\":\"#EEECEF\",\"float\":\"left\",\"margin-top\":\"30px\"}}),_vm._v(\" \"),_c('div',{staticClass:\"rightDiv\"},[_c('p',[_vm._v(\"分配角色\")]),_c('br'),_vm._v(\" \"),_c('el-checkbox-group',{staticStyle:{\"width\":\"100px\"},model:{value:(_vm.checkList),callback:function ($$v) {_vm.checkList=$$v},expression:\"checkList\"}},_vm._l((_vm.roleList),function(item){return _c('el-checkbox',{key:item.id,staticStyle:{\"width\":\"100px\",\"margin-left\":\"0\"},attrs:{\"label\":item.name,\"value\":item.id}},[_vm._v(_vm._s(item.name))])})),_vm._v(\" \"),_c('SolidButton',{staticStyle:{\"margin-top\":\"40px\"},attrs:{\"type\":\"solid\",\"text\":\"提交\"},on:{\"click\":_vm.submitClick}})],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-36f931a8\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/view/list/PermissionMange/UserPermissAssign.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-36f931a8\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./UserPermissAssign.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./UserPermissAssign.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./UserPermissAssign.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-36f931a8\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./UserPermissAssign.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-36f931a8\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/view/list/PermissionMange/UserPermissAssign.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}