webpackJsonp([13],{"ecN/":function(e,t){},tbEO:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a("hOPP"),o=a("Tftl"),s={components:{Button:l.a,SolidButton:o.a},data:function(){return{currentPage1:0,name:"",phone:"",rows:[],num:0,pageNum:"1",pageRows:"10",brandName:[],form:{brandCode:"",dealername:""},list:"",add:{text:"新增",type:"icon-add"},edit:{text:"编辑",type:"icon-edit"}}},methods:{handleSelectionChange:function(e){this.list=e},toggleSelection:function(e){var t=this,a=[];a.push(e),a?a.forEach(function(e){t.$refs.multipleTable.toggleRowSelection(e)}):this.$refs.multipleTable.clearSelection()},loadData:function(){var e=this,t=this,a={type:"1",pageNum:this.pageNum,pageRows:this.pageRows,brandcode:this.form.brandCode,dealername:this.form.dealername};t.$api.post("crm/dealer/queryCrmDealerList",a,function(e){t.rows=e.repData.list,t.num=e.repData.total},function(t){e.$message({message:t.repData.repMsg,type:"error"})}),t.$api.post("/crm/dealer/getBrandCodes",{},function(e){t.brandName=e.repData},function(t){e.$message({message:t.repData.repMsg,type:"error"})})},handleSizeChange:function(e){this.pageRows=e,this.loadData()},handleCurrentChange:function(e){this.pageNum=e,this.loadData()},addClick:function(){this.$router.push({path:"/DealerRevise",query:{}})},editClick:function(){0!=this.list.length?this.list.length>1?this.$message({message:"最多只能选择一条",type:"warning"}):this.$router.push({path:"/DealerRevise",query:{list:this.list[0]}}):this.$message({message:"至少选择一条",type:"warning"})},query:function(){this.loadData()},reset:function(){this.form.brandCode="",this.form.dealername="",this.loadData()}},created:function(){this.loadData()}},n={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"d-box v-box"},[a("div",{staticClass:"headDiv",staticStyle:{padding:"20px"}},[a("div",{staticClass:"headerLeft"},[a("span",{staticClass:"system"},[e._v("品牌")]),e._v(" "),a("el-select",{attrs:{placeholder:"请选择系统"},model:{value:e.form.brandCode,callback:function(t){e.$set(e.form,"brandCode",t)},expression:"form.brandCode"}},e._l(e.brandName,function(e){return a("el-option",{key:e.brandcode,attrs:{label:e.dealername,value:e.brandcode}})}))],1),e._v(" "),a("div",{staticClass:"headerLeft"},[a("span",{staticClass:"system"},[e._v("经销商全称")]),e._v(" "),a("el-input",{attrs:{placeholder:"请输入经销商全称",clearable:""},model:{value:e.form.dealername,callback:function(t){e.$set(e.form,"dealername",t)},expression:"form.dealername"}})],1),e._v(" "),a("div",{staticClass:"headerRight"},[a("SolidButton",{attrs:{type:"solid",text:"查询"},on:{click:e.query}}),e._v(" "),a("SolidButton",{attrs:{type:"hollow",text:"重置"},on:{click:e.reset}})],1),e._v(" "),a("div",{staticStyle:{height:"auto",width:"100%",padding:"10px 0",float:"left"}},[a("Button",{attrs:{type:e.add.type,icon:e.add.icon,text:e.add.text},on:{click:e.addClick}}),e._v(" "),a("Button",{attrs:{type:e.edit.type,icon:e.edit.icon,text:e.edit.text},on:{click:e.editClick}})],1)]),e._v(" "),a("div",{staticClass:"flexTable"},[a("div",{staticClass:"d-box v-box"},[a("div",{staticClass:"flexTable spaceTable"},[a("div",{staticClass:"tableDiv"},[a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{stripe:"",data:e.rows,"tooltip-effect":"dark",height:"100%"},on:{"selection-change":e.handleSelectionChange,"row-click":e.toggleSelection}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{prop:"brandcode",label:"品牌"}}),e._v(" "),a("el-table-column",{attrs:{prop:"dealername",label:"经销商全称","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"dealershtname",label:"经销商简称","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"addr",label:"地址","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"linkman1",label:"联系人","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"linktel1",label:"联系电话","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"prov",label:"省份","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"city",label:"城市","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"email",label:"联系邮箱","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"region",label:"MDM经销商","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._l(t.row.dealerOmsList,function(t){return a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.dealerName)+"     ")])}),a("br")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"status",label:"状态","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.status?"有效":"无效"))])]}}])})],1)],1)]),e._v(" "),a("div",{staticClass:"footerDiv"},[a("el-pagination",{staticStyle:{"text-align":"center",padding:"6px 0px"},attrs:{"current-page":e.currentPage1,"page-sizes":[10,20,30,40],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:e.num},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)])])])},staticRenderFns:[]};var r=a("VU/8")(s,n,!1,function(e){a("ecN/")},"data-v-5857a8ca",null);t.default=r.exports}});
//# sourceMappingURL=13.a6c3d0f77c941c2a9800.js.map