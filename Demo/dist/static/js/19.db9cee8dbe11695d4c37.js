webpackJsonp([19],{hagS:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={components:{SolidButton:s("Tftl").a},data:function(){return{userData:{},roleList:[],checkList:[],getId:"",roleIds:""}},methods:{closeClick:function(){this.$router.push({path:"/UserManage",query:{}})},getRoleData:function(){var t=this,e={id:t.getId};t.$api.post("/user/role",e,function(e){for(var s in console.log(e),t.roleList=e.repData.role,t.roleList)t.roleList[s].status&&t.checkList.push(t.roleList[s].name)},function(t){console.log(t)})},submitClick:function(){var t=this;this.$confirm("确定保存吗？","",{confirmButtonText:"是",cancelButtonText:"否",type:"warning",center:!0}).then(function(){t.updateRoleData(),t.$message({type:"success",message:"保存成功!"})}).catch(function(){t.$message({type:"info",message:"取消保存"})})},updateRoleData:function(){var t=this;for(var e in this.roleIds="",this.roleList)for(var s in this.checkList)this.roleList[e].name==this.checkList[s]&&(this.roleIds+=this.roleList[e].id+",");console.log("ceshi"+this.roleIds);var i={userId:this.getId,role:this.roleIds.substring(0,this.roleIds.length-1)};this.$api.post("/user/add/role",i,function(e){console.log(e),t.closeClick()},function(t){console.log(t)})}},created:function(){this.userData=this.$api.sGetObject("userData"),this.getId=this.userData.id,this.getRoleData()}},a={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticStyle:{width:"100%","min-width":"900px",height:"400px",background:"#fff"}},[s("div",{staticClass:"headDiv"},[s("el-button",{staticClass:"headbutton",attrs:{type:"text",icon:"el-icon-error"},on:{click:t.closeClick}},[t._v("关闭")]),t._v(" "),s("label",[t._v("|")])],1),t._v(" "),s("div",{staticStyle:{width:"100%",height:"1px",background:"#EEECEF"}}),t._v(" "),s("div",{staticClass:"leftDiv"},[s("p",[t._v("个人信息")]),s("br"),t._v(" \n\t\t姓名:"),s("label",[t._v(t._s(t.userData.realName))]),s("br"),t._v("\n\t\t账号:"),s("label",[t._v(t._s(t.userData.userName))]),s("br"),t._v("\n\t    所属组织:"),s("label",[t._v(t._s(t.userData.orgName))])]),t._v(" "),s("div",{staticStyle:{width:"1px",height:"300px",background:"#EEECEF",float:"left","margin-top":"30px"}}),t._v(" "),s("div",{staticClass:"rightDiv"},[s("p",[t._v("分配角色")]),s("br"),t._v(" "),s("el-checkbox-group",{staticStyle:{width:"100px"},model:{value:t.checkList,callback:function(e){t.checkList=e},expression:"checkList"}},t._l(t.roleList,function(e){return s("el-checkbox",{key:e.id,staticStyle:{width:"100px","margin-left":"0"},attrs:{label:e.name,value:e.id}},[t._v(t._s(e.name))])})),t._v(" "),s("SolidButton",{staticStyle:{"margin-top":"40px"},attrs:{type:"solid",text:"提交"},on:{click:t.submitClick}})],1)])},staticRenderFns:[]};var o=s("VU/8")(i,a,!1,function(t){s("xeXQ")},"data-v-36f931a8",null);e.default=o.exports},xeXQ:function(t,e){}});
//# sourceMappingURL=19.db9cee8dbe11695d4c37.js.map