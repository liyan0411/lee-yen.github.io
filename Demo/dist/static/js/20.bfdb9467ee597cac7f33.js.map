{"version":3,"sources":["webpack:///src/view/list/ParameterConfig/RoleManage.vue","webpack:///./src/view/list/ParameterConfig/RoleManage.vue?143b","webpack:///./src/view/list/ParameterConfig/RoleManage.vue"],"names":["RoleManage","components","Button","Table","data","currentPage1","rows","list","ids","num","pageNum","pageRows","form","description","parentId","flag","formLabelWidth","menu","add","text","type","out","edit","tableName","value","name","methods","handleSelectionChange","val","this","toggleSelection","row","_this","push","forEach","$refs","multipleTable","toggleRowSelection","clearSelection","loadData","_this2","self","p","$api","post","r","repData","total","e","$message","message","repMsg","addClick","$router","path","query","editClick","length","id","deleteClick","_this3","i","substring","$confirm","cancelButtonText","confirmButtonText","center","then","setTimeout","console","log","catch","handleSizeChange","handleCurrentChange","created","ParameterConfig_RoleManage","render","_vm","_h","$createElement","_c","_self","staticClass","staticStyle","padding","height","float","attrs","icon","on","click","_v","selection-change","size-change","current-change","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/20.bfdb9467ee597cac7f33.js","sourcesContent":["<template>\n\t<!--角色管理-->\n\t<div class=\"d-box v-box\">\n\t\t<div class=\"headDiv\">\n\t\t\t<div style=\"padding: 20px; height: auto;float: left;\">\n\t\t\t\t<Button :type='add.type' :icon='add.icon' :text='add.text' @click=\"addClick\"></Button>\n\t\t\t\t<Button :type='out.type' :icon='out.icon' :text='out.text' @click=\"deleteClick\"></Button>\n\t\t\t\t<Button :type='edit.type' :icon='edit.icon' :text='edit.text' @click=\"editClick\"></Button>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class=\"flexTable\">\n\t\t\t<Table :data='rows' :tableName='tableName' @selection-change=\"handleSelectionChange\" :currentPage1=\"currentPage1\" :num='num' @size-change=\"handleSizeChange\" @current-change=\"handleCurrentChange\"></Table>\n\n\t\t</div>\n\t</div>\n</template>\n\n<script>\n\timport Button from '../../button/Button.vue';\n\timport Table from '../../table/Table.vue';\n\texport default {\n\t\tcomponents: {\n\t\t\tButton,\n\t\t\tTable,\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tcurrentPage1: 1,\n\t\t\t\trows: [],\n\t\t\t\tlist: [],\n\t\t\t\tids: '',\n\t\t\t\tdata: '',\n\t\t\t\tnum: 0,\n\t\t\t\tpageNum: '1',\n\t\t\t\tpageRows: '10',\n\t\t\t\tform: {\n\t\t\t\t\tdescription: '',\n\t\t\t\t\tparentId: '',\n\t\t\t\t},\n\t\t\t\tflag: false,\n\t\t\t\tformLabelWidth: '25%',\n\t\t\t\tdescription: [],\n\t\t\t\tmenu: [],\n\t\t\t\t//头部按钮\n\t\t\t\tadd: {\n\t\t\t\t\ttext: '新增', //按钮名称\n\t\t\t\t\ttype: 'icon-add', //按钮颜色class,及图标\n\t\t\t\t},\n\t\t\t\tout: {\n\t\t\t\t\ttext: '删除', //按钮名称\n\t\t\t\t\ttype: 'icon-delete', //按钮颜色class,及图标\n\t\t\t\t},\n\t\t\t\tedit: {\n\t\t\t\t\ttext: '编辑', //按钮名称\n\t\t\t\t\ttype: 'icon-edit', //按钮颜色class,及图标\n\t\t\t\t},\n\t\t\t\t//表格对应的字段\n\t\t\t\ttableName: [{\n\t\t\t\t\t\tvalue: 'name',\n\t\t\t\t\t\tname: \"角色名称\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tvalue: 'description',\n\t\t\t\t\t\tname: \"角色描述\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tvalue: 'status',\n\t\t\t\t\t\tname: '状态'\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tvalue: 'userNum',\n\t\t\t\t\t\tname: '当前分配人'\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tvalue: 'createrName',\n\t\t\t\t\t\tname: '创建人'\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tvalue: 'crtTime',\n\t\t\t\t\t\tname: '创建时间'\n\t\t\t\t\t},\n\t\t\t\t]\n\t\t\t}\n\t\t},\n\t\tmethods: {\n\t\t\t//表格勾选禁用\n\t\t\t//\t\t\tcheckboxInit(row, index) {\n\t\t\t//\t\t\t\tconsole.log(row)\n\t\t\t//\t\t\t\tconsole.log(index)\n\t\t\t//\t\t\t\tif(row.id == 1) {\n\t\t\t//\t\t\t\t\treturn 0; //不可勾选\n\t\t\t//\t\t\t\t} else {\n\t\t\t//\t\t\t\t\treturn 1; //可勾选\n\t\t\t//\t\t\t\t}\n\t\t\t//\t\t\t},\n\t\t\t//表格Checkbox 选中\n\t\t\thandleSelectionChange(val) {\n\t\t\t\tthis.data = val;\n\t\t\t},\n\t\t\t//点击行选中复选框\n\t\t\ttoggleSelection(row) {\n\t\t\t\tvar rows = [];\n\t\t\t\trows.push(row);\n\t\t\t\tif(rows) {\n\t\t\t\t\trows.forEach(row => {\n\t\t\t\t\t\tthis.$refs.multipleTable.toggleRowSelection(row);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tthis.$refs.multipleTable.clearSelection();\n\t\t\t\t}\n\t\t\t},\n\t\t\t//初始化数据\n\t\t\tloadData() {\n\t\t\t\tvar self = this;\n\t\t\t\tvar p = {\n\t\t\t\t\ttype: \"1\",\n\t\t\t\t\tpageNum: this.pageNum,\n\t\t\t\t\tpageRows: this.pageRows\n\t\t\t\t}\n\t\t\t\tself.$api.post('role/doRoleList', p, r => {\n\t\t\t\t\tself.rows = r.repData.list\n\t\t\t\t\tself.num = r.repData.total\n\t\t\t\t}, e => {\n\t\t\t\t\tthis.$message({\n\t\t\t\t\t\tmessage: e.repData.repMsg,\n\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t});\n\t\t\t\t})\n\t\t\t},\n\t\t\t//新增\n\t\t\taddClick() {\n\t\t\t\tthis.$router.push({\n\t\t\t\t\tpath: \"/newRole\",\n\t\t\t\t\tquery: {}\n\t\t\t\t})\n\t\t\t},\n\t\t\t//编辑\n\t\t\teditClick() {\n\t\t\t\tif(this.data.length > 1 || this.data.length == 0) {\n\t\t\t\t\tthis.$message({\n\t\t\t\t\t\tmessage: '请勾选单条数据',\n\t\t\t\t\t\ttype: 'warning'\n\t\t\t\t\t});\n\t\t\t\t\treturn;\n\t\t\t\t} else {\n\t\t\t\t\tthis.$router.push({\n\t\t\t\t\t\tpath: \"/newRole?id=\" + this.data[0].id,\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t},\n\t\t\t//删除\n\t\t\tdeleteClick() {\n\t\t\t\tvar self = this;\n\t\t\t\tself.ids = '';\n\t\t\t\tif(self.data.length > 1 || self.data.length == 0) {\n\t\t\t\t\tthis.$message({\n\t\t\t\t\t\tmessage: '请勾选单条数据',\n\t\t\t\t\t\ttype: 'warning'\n\t\t\t\t\t});\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tfor(var i = 0; i < self.data.length; i++) {\n\t\t\t\t\tif(self.data[i].id == 1) {\n\t\t\t\t\t\tthis.$message({\n\t\t\t\t\t\t\tmessage: '超级管理员不可删除',\n\t\t\t\t\t\t\ttype: 'warning'\n\t\t\t\t\t\t});\n\t\t\t\t\t\treturn;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tself.ids += self.data[i].id + ','\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t\tvar p = {\n\t\t\t\t\tids: self.ids.substring(0, self.ids.length - 1)\n\t\t\t\t}\n\t\t\t\tthis.$confirm('请确认删除的角色, 是否继续?', '提示', {\n\t\t\t\t\tcancelButtonText: '取消',\n\t\t\t\t\tconfirmButtonText: '确定',\n\t\t\t\t\ttype: 'warning',\n\t\t\t\t\tcenter: true\n\t\t\t\t}).then(() => {\n\t\t\t\t\tself.$api.post('role/deleteroles', p, r => {\n\t\t\t\t\t\tthis.$message({\n\t\t\t\t\t\t\tmessage: '删除成功',\n\t\t\t\t\t\t\ttype: 'success'\n\t\t\t\t\t\t});\n\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\tself.loadData();\n\t\t\t\t\t\t}, 1000)\n\t\t\t\t\t}, e => {\n\t\t\t\t\t\tconsole.log(e);\n\t\t\t\t\t})\n\t\t\t\t}).catch(() => {\n\t\t\t\t\tthis.$message({\n\t\t\t\t\t\ttype: 'info',\n\t\t\t\t\t\tmessage: '已取消删除'\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\t},\n\t\t\t//每页多少条\n\t\t\thandleSizeChange(val) {\n\t\t\t\tthis.pageRows = val;\n\t\t\t\tthis.loadData();\n\t\t\t},\n\t\t\t//页面切换\t\t\t\n\t\t\thandleCurrentChange(val) {\n\t\t\t\tthis.pageNum = val;\n\t\t\t\tthis.loadData();\n\t\t\t}\n\t\t},\n\t\tcreated() {\n\t\t\tthis.loadData();\n\t\t},\n\t}\n</script>\n\n<style scoped>\n\t.d-box {\n\t\tdisplay: -moz-box;\n\t\t/* OLD - Firefox 19- (buggy but mostly works) */\n\t\tdisplay: -webkit-box;\n\t\t/* OLD - iOS 6-, Safari 3.1-6 */\n\t\tdisplay: -webkit-flex;\n\t\t/* NEW - Chrome */\n\t\tdisplay: -ms-flexbox;\n\t\t/* TWEENER - IE 10 */\n\t\tdisplay: box;\n\t\tdisplay: flexbox;\n\t\tdisplay: flex;\n\t\t/* NEW, Spec - Opera 12.1, Firefox 20+ */\n\t\theight: 100%;\n\t\twidth: 100%;\n\t}\n\t\n\t.v-box {\n\t\t-webkit-box-orient: vertical;\n\t\t-webkit-box-direction: normal;\n\t\t-moz-box-orient: vertical;\n\t\t-moz-box-direction: normal;\n\t\t-webkit-flex-direction: column;\n\t\t-moz-flex-direction: column;\n\t\t-ms-flex-direction: column;\n\t\t-o-flex-direction: column;\n\t\tflex-direction: column;\n\t}\n\t\n\t.headDiv {\n\t\t/*padding: 20px;*/\n\t\tbackground: #fff;\n\t\toverflow: hidden;\n\t\tposition: relative;\n\t}\n\t\n\t.flexTable {\n\t\t-webkit-box-flex: 1;\n\t\t-moz-box-flex: 1;\n\t\t-ms-flex: 1;\n\t\tflex: 1;\n\t\tposition: relative;\n\t}\n\t\n\t/*.tableDiv {\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tposition: absolute;\n\t\toverflow: auto;\n\t}*/\n\t\n\t/*.footerDiv {\n\t\theight: 40px;\n\t\tposition: relative;\n\t}*/\n</style>\n\n\n// WEBPACK FOOTER //\n// src/view/list/ParameterConfig/RoleManage.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"d-box v-box\"},[_c('div',{staticClass:\"headDiv\"},[_c('div',{staticStyle:{\"padding\":\"20px\",\"height\":\"auto\",\"float\":\"left\"}},[_c('Button',{attrs:{\"type\":_vm.add.type,\"icon\":_vm.add.icon,\"text\":_vm.add.text},on:{\"click\":_vm.addClick}}),_vm._v(\" \"),_c('Button',{attrs:{\"type\":_vm.out.type,\"icon\":_vm.out.icon,\"text\":_vm.out.text},on:{\"click\":_vm.deleteClick}}),_vm._v(\" \"),_c('Button',{attrs:{\"type\":_vm.edit.type,\"icon\":_vm.edit.icon,\"text\":_vm.edit.text},on:{\"click\":_vm.editClick}})],1)]),_vm._v(\" \"),_c('div',{staticClass:\"flexTable\"},[_c('Table',{attrs:{\"data\":_vm.rows,\"tableName\":_vm.tableName,\"currentPage1\":_vm.currentPage1,\"num\":_vm.num},on:{\"selection-change\":_vm.handleSelectionChange,\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3341b9f5\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/view/list/ParameterConfig/RoleManage.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3341b9f5\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./RoleManage.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./RoleManage.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./RoleManage.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3341b9f5\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./RoleManage.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-3341b9f5\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/view/list/ParameterConfig/RoleManage.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}